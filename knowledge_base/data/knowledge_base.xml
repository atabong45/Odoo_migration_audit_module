<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1"> 
        
        <!-- On crée une catégorie de sécurité pour bien ranger nos groupes dans l'interface -->
        <record id="module_category_knowledge_base" model="ir.module.category">
            <field name="name">Base de Connaissances</field>
            <field name="description">Droits d'accès pour l'application Base de Connaissances</field>
        </record>

        <!-- Groupe 1 : Le Lecteur (Utilisateur) -->
        <!-- Tout le monde dans ce groupe peut lire les articles. -->
        <record id="group_knowledge_base_user" model="res.groups">
            <field name="name">Utilisateur</field>
            <field name="category_id" ref="module_category_knowledge_base"/>
            <field name="implied_ids" eval="[(4, ref('base.group_user'))]"/> <!-- Ce groupe inclut tous les employés connectés par défaut -->
        </record>

        <!-- Groupe 2 : Le Contributeur -->
        <!-- Les membres de ce groupe peuvent créer et modifier des articles. -->
        <record id="group_knowledge_base_contributor" model="res.groups">
            <field name="name">Contributeur</field>
            <field name="category_id" ref="module_category_knowledge_base"/>
            <field name="implied_ids" eval="[(4, ref('group_knowledge_base_user'))]"/> <!-- Un contributeur est aussi un utilisateur (il hérite des droits) -->
        </record>

        <!-- Groupe 3 : L'Administrateur -->
        <!-- Les membres de ce groupe peuvent tout gérer, y compris les articles publiés des autres. -->
        <record id="group_knowledge_base_admin" model="res.groups">
            <field name="name">Administrateur</field>
            <field name="category_id" ref="module_category_knowledge_base"/>
            <!-- Un admin est aussi un contributeur, il hérite de ses droits -->
            <field name="implied_ids" eval="[(4, ref('group_knowledge_base_contributor'))]"/>
            <!-- On peut lier ce groupe au groupe "Administration / Settings" d'Odoo -->
            <!-- Ainsi, tout administrateur Odoo devient automatiquement admin de notre module -->
            <field name="users" eval="[(4, ref('base.group_system'))]"/>
        </record>

    </data>
</odoo>